const express = require("express");
const cors = require("cors");
const adminController = require("./controllers/adminController");
const stateController = require("./controllers/stateController");
const cityController = require("./controllers/cityController");
const loginController = require("./controllers/loginController");

const app = express();
app.use(express.json());
app.use(cors());

app.get("/admin", adminController.getAllAdmins);
app.post("/create", adminController.createAdmin);
app.put("/update/:id", adminController.updateAdmin);
app.delete("/delete/:id", adminController.deleteAdmin);
app.get("/getrecord/:id", adminController.getRecordById);

app.get("/states", stateController.getAllStates);
app.post("/createState", stateController.createState);
app.put("/updateState/:id", stateController.updateState);
app.delete("/deleteState/:id", stateController.deleteState);
app.get("/getStateRecord/:id", stateController.getStateRecord);

app.post("/createCity", cityController.createCity);
app.get("/getAllCities", cityController.getAllCities);
app.delete("/deleteCity/:id", cityController.deleteCity);
app.put("/updateCity/:id", cityController.updateCity);
app.get("/getCitiesRecord/:id", cityController.getCitiesRecord);

app.post("/login", loginController.login);
app.post("/register", loginController.register);

app.listen(3030, () => {
  console.log("Running");
});
